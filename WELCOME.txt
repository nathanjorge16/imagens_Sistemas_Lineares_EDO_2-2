
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                                                                              â•‘
â•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—    â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—
â•‘  â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â• â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â•â•â•â•šâ•â•â–ˆâ–ˆâ•”â•â•â•
â•‘  â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•‘   
â•‘  â–ˆâ–ˆâ•‘     â•šâ•â•â•â•â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•    â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•  â•šâ•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   
â•‘  â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•     â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   
â•‘   â•šâ•â•â•â•â•â•â•šâ•â•â•â•â•â•â•  â•šâ•â•â•â•      â•šâ•â•â•šâ•â•  â•šâ•â•â•â• â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•   â•šâ•â•   
â•‘                                                                              â•‘
â•‘                  Sistema Profissional de IngestÃ£o de Dados                  â•‘
â•‘                              VersÃ£o 1.0.0                                    â•‘
â•‘                                                                              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•


ğŸ¯ O QUE Ã‰ ESTE SISTEMA?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Um micro-sistema robusto e de nÃ­vel empresarial para ingestÃ£o de dados CSV 
em bancos de dados relacionais, desenvolvido com foco em:

   âœ“ ZERO ERROS EM PRODUÃ‡ÃƒO
   âœ“ VALIDAÃ‡ÃƒO RIGOROSA
   âœ“ LOGGING COMPLETO
   âœ“ RELATÃ“RIOS DETALHADOS


ğŸ“¦ PRINCIPAIS FUNCIONALIDADES
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   âœ… AnÃ¡lise AutomÃ¡tica de CSV
      â€¢ DetecÃ§Ã£o inteligente de tipos
      â€¢ EstatÃ­sticas detalhadas por coluna
      â€¢ InferÃªncia de tipos SQL otimizados

   âœ… GeraÃ§Ã£o de DDL
      â€¢ CREATE TABLE automÃ¡tico
      â€¢ Tipos SQL adequados para PostgreSQL
      â€¢ NOT NULL baseado em anÃ¡lise

   âœ… ValidaÃ§Ã£o Robusta
      â€¢ ValidaÃ§Ã£o de tipos antes da inserÃ§Ã£o
      â€¢ Duas estratÃ©gias: fail_fast ou collect_errors
      â€¢ RelatÃ³rio de erros detalhado

   âœ… InserÃ§Ã£o ConfiÃ¡vel
      â€¢ Chunks configurÃ¡veis
      â€¢ Controle transacional
      â€¢ Suporte a: fail/replace/append

   âœ… Recursos AvanÃ§ados
      â€¢ Modo dry-run (teste seguro)
      â€¢ DeduplicaÃ§Ã£o automÃ¡tica
      â€¢ CriaÃ§Ã£o automÃ¡tica de tabelas
      â€¢ Logging estruturado


ğŸš€ INÃCIO RÃPIDO (3 PASSOS)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   1ï¸âƒ£  INSTALAR DEPENDÃŠNCIAS
      
      pip install -r requirements.txt


   2ï¸âƒ£  EXECUTAR QUICK START
      
      python quick_start.py


   3ï¸âƒ£  CUSTOMIZAR PARA SEU USO
      
      from sqlalchemy import create_engine
      from csv_ingestion import CsvToDatabaseLoader

      engine = create_engine("postgresql://user:pass@host:port/db")

      loader = CsvToDatabaseLoader(
          engine=engine,
          csv_path="seu_arquivo.csv",
          schema="seu_schema",
          table_name="sua_tabela",
      )

      # AnÃ¡lise primeiro (seguro)
      loader.run(dry_run=True)

      # Depois, inserÃ§Ã£o real
      loader.run(dry_run=False)


ğŸ“š DOCUMENTAÃ‡ÃƒO COMPLETA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   ğŸ“– README.md              â†’ Comece aqui! DocumentaÃ§Ã£o principal
   ğŸ—ï¸ ARCHITECTURE.md        â†’ Design e arquitetura do sistema
   ğŸ”„ MIGRATION_GUIDE.md     â†’ Guia de migraÃ§Ã£o do df.to_sql()
   ğŸ”§ TROUBLESHOOTING.md     â†’ SoluÃ§Ã£o de problemas comuns
   ğŸ“Š DIAGRAMS.md            â†’ Diagramas de fluxo em ASCII
   ğŸ“ CHANGELOG.md           â†’ HistÃ³rico de versÃµes
   ğŸ—ºï¸ PROJECT_MAP.md         â†’ Mapa completo do projeto


ğŸ“ EXEMPLOS PRÃTICOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   examples/
   â”œâ”€â”€ exemplo_01_basico.py          â†’ Uso bÃ¡sico com dry-run
   â”œâ”€â”€ exemplo_02_criar_tabela.py    â†’ CriaÃ§Ã£o automÃ¡tica de tabela
   â”œâ”€â”€ exemplo_03_replace.py         â†’ Modo replace com validaÃ§Ã£o
   â”œâ”€â”€ exemplo_04_deduplicacao.py    â†’ DeduplicaÃ§Ã£o de registros
   â”œâ”€â”€ exemplo_05_apenas_analise.py  â†’ AnÃ¡lise exploratÃ³ria
   â””â”€â”€ exemplo_06_tratamento_erros.py â†’ EstratÃ©gias de erro


ğŸ› ï¸ LINHA DE COMANDO (CLI)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   # AnÃ¡lise (dry-run)
   python cli.py --csv data.csv --db postgresql://... --dry-run

   # InserÃ§Ã£o real
   python cli.py --csv data.csv --db postgresql://... --table products

   # Criar tabela automaticamente
   python cli.py --csv data.csv --db postgresql://... --create-table

   # Com deduplicaÃ§Ã£o
   python cli.py --csv data.csv --db postgresql://... --dedup-columns id email


ğŸ§ª TESTES E QUALIDADE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   # Executar todos os testes
   pytest

   # Com cobertura
   pytest --cov=csv_ingestion --cov-report=html

   # Linter
   flake8 csv_ingestion tests examples

   # Formatter
   black csv_ingestion tests examples


ğŸ“Š ESTRUTURA DO PROJETO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   SQL_INSERT/
   â”œâ”€â”€ csv_ingestion/        # MÃ³dulo principal
   â”‚   â”œâ”€â”€ loader.py         # Classe CsvToDatabaseLoader (CORE)
   â”‚   â”œâ”€â”€ type_inference.py # InferÃªncia Pandas â†’ SQL
   â”‚   â”œâ”€â”€ validators.py     # ValidaÃ§Ã£o de dados
   â”‚   â”œâ”€â”€ models.py         # Estruturas de dados
   â”‚   â””â”€â”€ utils.py          # UtilitÃ¡rios
   â”‚
   â”œâ”€â”€ examples/             # 6 exemplos prÃ¡ticos
   â”œâ”€â”€ tests/                # Testes completos
   â”œâ”€â”€ data/                 # DiretÃ³rio para CSVs
   â”‚
   â”œâ”€â”€ cli.py                # CLI
   â”œâ”€â”€ quick_start.py        # Script de inÃ­cio rÃ¡pido
   â””â”€â”€ scripts.py            # Scripts utilitÃ¡rios


ğŸ’¡ CASOS DE USO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   âœ“ Pipelines de ETL/ELT
   âœ“ Data Lakes â†’ Data Warehouse
   âœ“ MigraÃ§Ã£o de dados
   âœ“ IngestÃ£o de dados externos
   âœ“ Carga incremental
   âœ“ SubstituiÃ§Ã£o de dados (replace)
   âœ“ Data quality checks


ğŸ¯ DIFERENCIAIS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   VS df.to_sql():
   
   âŒ df.to_sql()                    âœ… CsvToDatabaseLoader
   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   Sem validaÃ§Ã£o                     ValidaÃ§Ã£o rigorosa
   Sem anÃ¡lise prÃ©via                AnÃ¡lise detalhada
   Sem dry-run                       Modo dry-run
   Sem DDL sugerido                  DDL automÃ¡tico
   Sem deduplicaÃ§Ã£o                  DeduplicaÃ§Ã£o configurÃ¡vel
   Sem relatÃ³rios                    RelatÃ³rios completos
   Sem tratamento de erros           EstratÃ©gias de erro
   Sem logging estruturado           Logging profissional


ğŸ”§ SUPORTE A BANCOS DE DADOS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   âœ… PostgreSQL (otimizado)
   âœ… SQLite
   âœ… MySQL / MariaDB
   âœ… SQL Server
   âœ… Oracle (com driver apropriado)


âš¡ PERFORMANCE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   â€¢ 10k linhas    â†’ ~1-2 segundos
   â€¢ 100k linhas   â†’ ~10-15 segundos
   â€¢ 1M linhas     â†’ ~90-120 segundos
   
   (Varia conforme hardware e latÃªncia de rede)


ğŸ”’ SEGURANÃ‡A
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   âœ“ ProteÃ§Ã£o contra SQL Injection (SQLAlchemy)
   âœ“ ValidaÃ§Ã£o de todos os dados
   âœ“ Controle transacional
   âœ“ Schema validation


ğŸ¤ CONTRIBUINDO
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   Este Ã© um sistema profissional pronto para produÃ§Ã£o!
   
   SugestÃµes de melhorias:
   â€¢ Suporte a UPSERT (INSERT ... ON CONFLICT)
   â€¢ DetecÃ§Ã£o automÃ¡tica de chaves primÃ¡rias
   â€¢ Parallel loading para grandes volumes
   â€¢ Schema evolution automÃ¡tico
   â€¢ Web UI para configuraÃ§Ã£o


ğŸ“ PRECISA DE AJUDA?
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   1. Leia o README.md
   2. Consulte o TROUBLESHOOTING.md
   3. Veja os exemplos na pasta examples/
   4. Execute com dry_run=True primeiro
   5. Habilite logging detalhado


â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   Desenvolvido com â¤ï¸ por um Engenheiro de Dados SÃªnior
   
   LicenÃ§a: MIT
   VersÃ£o: 1.0.0
   Data: 2024-11-26

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

   ğŸ¯ ZERO ERROS EM PRODUÃ‡ÃƒO!
   
   Comece agora: python quick_start.py

â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

